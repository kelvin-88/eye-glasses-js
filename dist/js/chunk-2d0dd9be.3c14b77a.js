(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd9be"],{"81b1":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[t._l(t.materials,(function(e){return a("div",{key:e},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedMaterials,expression:"selectedMaterials"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedMaterials)?t._i(t.selectedMaterials,e)>-1:t.selectedMaterials},on:{change:function(a){var o=t.selectedMaterials,s=a.target,c=!!s.checked;if(Array.isArray(o)){var r=e,i=t._i(o,r);s.checked?i<0&&(t.selectedMaterials=o.concat([r])):i>-1&&(t.selectedMaterials=o.slice(0,i).concat(o.slice(i+1)))}else t.selectedMaterials=c}}}),a("label",{attrs:{for:"material"}},[t._v(t._s(e))])])})),a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},t._l(t.tempProducts,(function(e){return a("div",{key:e.id,staticClass:"col-lg-4 col-sm-6 mt-3"},[a("Product",{attrs:{product:e,url:e.imageUrl[0]},on:{showProduct:t.showProduct,click:function(a){return t.getProduct(e)}}})],1)})),0)],2)])},s=[],c=(a("99af"),a("caad"),a("2532"),a("b85c")),r=a("c1ac"),i={components:{Product:r["a"]},created:function(){console.log(this.$route.params),console.log(this.$route.query),this.getProducts(1)},data:function(){return{isLoading:!1,title:"",products:[],tempProducts:[],tempProduct:{imageUrl:[]},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0},materials:["樹脂","塑膠","金屬"],selectedMaterials:[]}},watch:{selectedMaterials:{handler:function(){console.log(this.selectedMaterials),this.filterProducts()}}},methods:{setFavorites:function(t){var e=JSON.parse(localStorage.getItem("favorite"));console.log("setFavorites",e),null===e&&(e=[]);var a,o={},s=Object(c["a"])(t);try{for(s.s();!(a=s.n()).done;)o=a.value,e.includes(o.id)?o.favorite=!0:o.favorite=!1}catch(r){s.e(r)}finally{s.f()}console.log("setFavorites",t)},filterProducts:function(){var t;this.tempProducts=[];var e,a=Object(c["a"])(this.products);try{for(a.s();!(e=a.n()).done;)t=e.value,console.log(t),this.selectedMaterials.includes(t.category)&&this.tempProducts.push(t)}catch(o){a.e(o)}finally{a.f()}},showProduct:function(t){console.log("showProduct received: ",t),this.$router.push({path:"/product/".concat(t)})},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/ec/products?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.products=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.products),t.tempProducts=t.products,t.setFavorites(t.tempProducts)})).catch((function(e){t.isLoading=!1,console.log(e.response)}))},getProduct:function(t){console.log(t.id),this.$router.push({name:"product",params:{id:t.id}})}}},n=i,l=a("2877"),d=Object(l["a"])(n,o,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0dd9be.3c14b77a.js.map